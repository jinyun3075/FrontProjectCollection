<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI테스트</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="container">
    <article class="start">
        <h1 class="mt-5 text-center">제목</h1>
        <button type="button" class="btn btn-primary mt-5">테스트 시작하기</button>
    </article>
    <article class="question">
        <div class="progress mt-5">
            <div class="progress-bar" role="progressbar" style="width: calc(100/12*1%)"></div>
        </div>
        <h2 id="title" class="text-center mt-5">문제</h2>
        <input type="hidden" value="EI" id="type">
        <button id="A" type="button" class="btn btn-primary mt-5"></button>
        <button id="B" type="button" class="btn btn-primary mt-5"></button>
    </article>
    <article class="result">
        <img id="img" src="img/lion.jpg" alt="" class="text-center rounded-circle mt-5">
        <h2 id="animal" class="text-center mt-5">이름</h2>
        <h3 id="explain" class="text-center mt-5">설명</h3>
        <!-- Go to www.addthis.com/dashboard to customize your tools --> <div class="addthis_inline_share_toolbox_rc9y"></div>
    </article>
    <a class="mt-5 banner" href="https://www.codelion.net/catalog/Q291cnNlTm9kZTpqbW9r?utm_source=animal_test&utm_medium=web_lecture&utm_campaign=jinyun3075@likelion.org">
        <img src="ad/banner_9VLPMjprjq3.png" alt="banner">
    </a>
    <input type="hidden" id="EI" value="0">
    <input type="hidden" id="SN" value="0">
    <input type="hidden" id="TF" value="0">
    <input type="hidden" id="JP" value="0">
    <!-- Go to www.addthis.com/dashboard to customize your tools --> <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e64b3727e862b06"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script>
        let num = 1;
        let q = {
            1: {"title":"문제 1번","type":"EI","A":"YES!","B":"NO!"},
            2: {"title":"문제 2번","type":"EI","A":"YES!","B":"NO!"},
            3: {"title":"문제 3번","type":"EI","A":"YES!","B":"NO!"},
            4: {"title":"문제 4번","type":"SN","A":"YES!","B":"NO!"},
            5: {"title":"문제 5번","type":"SN","A":"YES!","B":"NO!"},
            6: {"title":"문제 6번","type":"SN","A":"YES!","B":"NO!"},
            7: {"title":"문제 7번","type":"TF","A":"YES!","B":"NO!"},
            8: {"title":"문제 8번","type":"TF","A":"YES!","B":"NO!"},
            9: {"title":"문제 9번","type":"TF","A":"YES!","B":"NO!"},
            10: {"title":"문제 10번","type":"JP","A":"YES!","B":"NO!"},
            11: {"title":"문제 11번","type":"JP","A":"YES!","B":"NO!"},
            12: {"title":"문제 12번","type":"JP","A":"YES!","B":"NO!"},
        }
        let result = {
            "ISTJ":{"name" : "하마","explain":"하마설명","img":"lion.jpg"},
            "ISTP":{"name" : "하마","explain":"하마설명","img":"lion.jpg"},
            "ISFJ":{"name" : "사자","explain":"사자설명","img":"lion.jpg"},
            "ISFP":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "INFP":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "INFJ":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "INTP":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "INTJ":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "ENTP":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "ENTJ":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "ENFP":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "ENFJ":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "ESTJ":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "ESTP":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "ESFJ":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
            "ESFP":{"name" : "호랑이","explain":"호랑이설명","img":"lion.jpg"},
        }
        $(".start button").click(function(){
            $(".start").hide();
            $(".question").show();
            console.log("??")
            next();
        });
        $("#A").click(function(){
            let type = $("#type").val();
            let preValue = $(`#${type}`).val();
            $(`#${type}`).val(parseInt(preValue)+1);
            next();
        });
        $("#B").click(()=>{
            next();
        });
        function next() {
            if(num == 13) {
                $('.question').hide();
                $('.result').show();
                let mbti ="";
                ($("#EI").val() < 2)? mbti += "I" : mbti += "E";
                ($("#SN").val() < 2)? mbti += "N" : mbti += "S";
                ($("#TF").val() < 2)? mbti += "F" : mbti += "T";
                ($("#JP").val() < 2)? mbti += "P" : mbti += "J";
                alert(mbti);
                $("#img").attr("src",result[mbti]["img"]);
                $("#name").html(result[mbti]["name"]);
                $("#explain").html(result[mbti]["explain"]);
            } else {
                $(".progress-bar").attr('style',`width:calc(100/12*${num}%)`);
                $("#title").html(q[num]["title"]);
                $("#type").val(q[num]['type']);
                $("#A").html(q[num]["A"]);
                $("#B").html(q[num]["B"]);
                num++;
            }
        }
    </script>
</body>
</html>